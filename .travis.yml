language: java
sudo: false
install: true

addons:
  sonarcloud:
    organization: "black-duck-software"
    token:
      secure: "dOeTQlYdlgj6eLM0Vg72FaXnYK+a0bTpoTZ40x2xIWRAoI5HlNlKvn/2LucVMCRrIXNexvuDbcpCB5h6UvcdzYCJVVCGmRzIf1Tal/ljZI4ENO8tYDypwxlFBbBwxp21kyMjj3BbH2HKRx5MrBLAUsDBzpDmBOWB36Lc7cFtiHLI6su5QDlmEOfMCAEV8kazCRxBPIvjmb8BrA5dvPbuj7/VVUrpUjRydfhDYefi/OeCa2uGeTrC8vMnQGg/YT/naIrPR4RhFqUT86S1NCTL4m+CTrg70pFoSaKXVjiNHkTTlS8i/OgRYlZnkuf9uu72Npb7y9fXUBhEcSqBsZqbFzNIGYknHqa7XFcGKqR33qXpS7r2IDPcEnHl4L4BfNRAVrguT/aiEObJ0RaA6LRvynXUspfXlrDgipLtoA0t2AXAs5YVV3pPjqNojaQH6joxR5fd+P/UNOEle62OzYiYbTcHvj1NzxgzVOfgLd9KoesMUkyCF83dD6qArs23s/+wYD0K1R5nYtieirYJgYrF7gbcT2bhGy8S7bbdIBYolgM9gtDKj+6pY/E8dsbBwDIBKhug9WC7ODAcoUDQgPA5mkEjP0xaCW5i4Lx7QdLUtKbv2MiGweRmtyxv0u7ZnR/77feEWfOAtpFd9WyIJC2cixHzSTrumPySwEnO5WQR4wQ="

jdk:
- oraclejdk8

notifications:
  email:
    recipients:
    - akamen@blackducksoftware.com
    - gkillough@blackducksoftware.com

script:
  - mvn clean package sonar:sonar

after_success:
  - mvn jacoco:report coveralls:report
  - bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
  - "$HOME/.gradle"
  - ".gradle"
